<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>箭頭函數</title>
</head>
<body>
    











    <script>
        // 箭頭函數是用來簡化函數定義語法的
        const fn = ()=> {
            console.log(123);
        }

        fn();

        // 函數體中只有一句代碼，且代碼執行結果就是返回值，可以省略大括號。
        const sum = (num1,num2) => num1+num2;
        console.log(sum(1,3)); // 4

        // 如果形參只有一個，則小括號也可以省略。
        const yy = y => y*10;

        console.log(yy(10)); // 100

        // 箭頭函數不綁定this，箭頭函數中的this，指的是函數定義位置的上下文this。
        const obj = {name:"張三"}

        function fn2() {
            console.log(this);
            return ()=> {
                console.log(this);
            }
        }

        fn2(obj); // window

        console.log("========= 1 =====");
        const resFn = fn2.call(obj) // {name: '張三'} 
        console.log("========= 1 =====");

        console.log("========= 2 =====");
        resFn(obj); // {name: '張三'}
        console.log("========= 2 =====");

        function fn3() {
            console.log(this);
        }
        console.log("========= 3 =====");
        const resFn3 = fn3.call(obj); // {name: '張三'}
        //resFn3(obj); //會報錯 is not a function
        console.log("========= 3 =====");

        const fn4 = () => {
            return ()=>{
                console.log(this);
            }
        }

        console.log("=========4===========");
        const resFn4 = fn4.call(obj); // 沒東西
        resFn4(obj); // window
        console.log("=========4===========");

    

    </script>
</body>
</html>